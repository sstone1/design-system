import{a as y,j as c}from"./jsx-runtime-CHAcsyq4.js";import{r as C}from"./index-CO9pbFv1.js";import"./complete-DfKDyCth.js";import"./in-progress-BhDVRM7c.js";import"./not-started-C2GCbdX0.js";import"./edit-CoTvdx8D.js";import"./chevron-CuO2MovR.js";import"./tick-D-0rNWa6.js";import"./tick-circle-DEx8Rvru.js";import"./info-outlined-BO35JMI8.js";import"./check-circle-N73EjHKU.js";import"./error-outlined-Cly8x-70.js";import"./index-BdESLZbP.js";import{U as j}from"./upload-CswRUNEI.js";import"./trash-vMOCOH0P.js";import"./cog-outlined-C34frKMW.js";import"./warning-DrjxdJ9G.js";import{s as f}from"./styled-YeRgfiRQ.js";import{P as N}from"./Paper-CJvehd4j.js";import{B as b}from"./Box-BQkYfaWE.js";import{T as k}from"./Typography-B9EEOqS3.js";import{u as S}from"./useTheme-ComXvnLb.js";var W=function(e,a){if(e&&a){var l=Array.isArray(a)?a:a.split(","),n=e.name||"",m=(e.type||"").toLowerCase(),o=m.replace(/\/.*$/,"");return l.some(function(p){var d=p.trim().toLowerCase();return d.charAt(0)==="."?n.toLowerCase().endsWith(d):d.endsWith("/*")?o===d.replace(/\/.*$/,""):m===d})}return!0};const I=(e,a,l,n)=>n?e.palette.neutral[300]:a||l?e.palette.info.dark:e.palette.neutral[500],M=(e,a,l)=>l?e.palette.neutral[300]:a?e.palette.info.main:e.palette.neutral[500],_=f(N)(({theme:e})=>({padding:e.spacing(2.5),backgroundColor:e.palette.neutral[25]})),H=f(b)(({theme:e,isDragOver:a,isFileAdded:l,isDisabled:n})=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"9px",width:"100%",padding:e.spacing(2),textDecoration:"none",color:"inherit",border:`1px dashed ${I(e,!!a,!!l,!!n)}`,borderRadius:e.shape.borderRadius})),V=f("a")(({isDisabled:e})=>({width:"100%",textDecoration:"none",color:"inherit",pointerEvents:e?"none":"auto"})),w=f(b)(()=>({minHeight:"35px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"})),T=f(k)(({theme:e,isFileAdded:a,hasUrl:l,isDisabled:n})=>({fontWeight:a?700:400,color:M(e,!!a,!!n),overflow:"hidden",textOverflow:"ellipsis",cursor:l?"pointer":"default","&:hover":{textDecoration:l?"underline":"none"}})),q=f(k)(({theme:e,isDisabled:a})=>({fontWeight:700,color:a?e.palette.neutral[300]:e.palette.neutral[600],cursor:a?"default":"pointer"})),G=f(b)(()=>({display:"flex",flexDirection:"column",gap:"8px",marginTop:"8px"})),me=e=>{const[a,l]=C.useState(!1),n=C.useRef(null),m=S();let o,p;const{multiple:d}=e;e.multiple?{files:o,setFiles:p}=e:(o=e.file?[e.file]:[],p=r=>{const i=r[r.length-1];e.setFile(i)});const{onInputFileError:u,uploadFileCopy:U="Upload file",noFileCopy:B=d?"No files added":"No file added",children:v,inputProps:t,maxTotalSizeMB:g,...F}=e,x=t==null?void 0:t.src,A=r=>r.reduce((i,s)=>i+s.size,0),D=r=>{if(t!=null&&t.accept&&!W({name:r.name,type:r.type},t.accept.split(",")||"")){u==null||u(`Invalid file type. Valid file types are: ${t.accept}`);return}if(g&&A(o)+r.size>g*1024*1024){u==null||u(`Total file size exceeds ${g} MB`);return}return r},z=r=>{if(r.target.files){const i=[];for(let s=0;s<r.target.files.length;s+=1){const h=D(r.target.files[s]);if(!h)return;i.push(h)}p(o.concat(i))}},L=r=>{r.preventDefault(),!(t!=null&&t.disabled)&&l(!0)},O=()=>{t!=null&&t.disabled||l(!1)},R=r=>{if(r.preventDefault(),!(t!=null&&t.disabled)&&(l(!1),r.dataTransfer.files)){const i=[];for(let s=0;s<r.dataTransfer.files.length;s+=1){const h=D(r.dataTransfer.files[s]);if(!h)return;i.push(h)}p(o.concat(i))}},$=r=>{var i;r.preventDefault(),(i=n.current)==null||i.click()};return y(_,{variant:"outlined",onDragOver:L,onDragLeave:O,onDrop:R,...F,children:[y(H,{isDisabled:t==null?void 0:t.disabled,isDragOver:a,isFileAdded:o.length>0,children:[o.length===0&&c(T,{variant:"body1",children:B}),o.map(r=>c(w,{children:c(T,{variant:"body1",isFileAdded:!0,hasUrl:!!x,isDisabled:t==null?void 0:t.disabled,onClick:()=>{x&&window.open(x,"_blank")},children:r.name})},r.name)),c(V,{isDisabled:t==null?void 0:t.disabled,href:"#",role:"button",onClick:$,children:y(w,{children:[c(j,{fillColor:t!=null&&t.disabled?m.palette.neutral[300]:m.palette.secondary.main}),c(q,{isDisabled:t==null?void 0:t.disabled,variant:"body1",children:U})]})}),c("input",{ref:n,type:"file",style:{display:"none"},onChange:z,role:"button","aria-label":"File Upload",multiple:d,...t})]}),v&&c(G,{children:v})]})};export{me as F};
