import{a as x,j as d}from"./jsx-runtime-CHAcsyq4.js";import{r as D}from"./index-CO9pbFv1.js";import"./complete-DfKDyCth.js";import"./in-progress-BhDVRM7c.js";import"./not-started-C2GCbdX0.js";import"./edit-CoTvdx8D.js";import"./chevron-CuO2MovR.js";import"./tick-D-0rNWa6.js";import"./tick-circle-DEx8Rvru.js";import"./info-outlined-BO35JMI8.js";import"./check-circle-N73EjHKU.js";import"./error-outlined-Cly8x-70.js";import"./index-BdESLZbP.js";import{U as R}from"./upload-CswRUNEI.js";import"./trash-vMOCOH0P.js";import"./cog-outlined-C34frKMW.js";import"./warning-DrjxdJ9G.js";import{s as f}from"./generateUtilityClasses-HyxggqFg.js";import{P as j}from"./Paper-CaVeEWD5.js";import{B as y}from"./Box-B2aKkEL4.js";import{T as F}from"./Typography-Cx8-JiCk.js";import{u as N}from"./useTheme-CuVpbpSA.js";var W=function(e,a){if(e&&a){var l=Array.isArray(a)?a:a.split(","),i=e.name||"",u=(e.type||"").toLowerCase(),o=u.replace(/\/.*$/,"");return l.some(function(p){var s=p.trim().toLowerCase();return s.charAt(0)==="."?i.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):u===s})}return!0};const $=(e,a,l,i)=>i?e.palette.neutral[300]:a||l?e.palette.info.dark:e.palette.neutral[500],S=(e,a,l)=>l?e.palette.neutral[300]:a?e.palette.info.main:e.palette.neutral[500],_=f(j)(({theme:e})=>({padding:e.spacing(2.5),backgroundColor:e.palette.neutral[25]})),E=f(y)(({theme:e,isDragOver:a,isFileAdded:l,isDisabled:i})=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"9px",width:"100%",padding:e.spacing(2),textDecoration:"none",color:"inherit",border:`1px dashed ${$(e,!!a,!!l,!!i)}`,borderRadius:e.shape.borderRadius})),H=f("a")(({isDisabled:e})=>({width:"100%",textDecoration:"none",color:"inherit",pointerEvents:e?"none":"auto"})),C=f(y)(()=>({minHeight:"35px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"})),w=f(F)(({theme:e,isFileAdded:a,hasUrl:l,isDisabled:i})=>({fontWeight:a?700:400,color:S(e,!!a,!!i),overflow:"hidden",textOverflow:"ellipsis",cursor:l?"pointer":"default","&:hover":{textDecoration:l?"underline":"none"}})),V=f(F)(({theme:e,isDisabled:a})=>({fontWeight:700,color:a?e.palette.neutral[300]:e.palette.neutral[600],cursor:a?"default":"pointer"})),q=f(y)(()=>({display:"flex",flexDirection:"column",gap:"8px",marginTop:"8px"})),pe=e=>{const[a,l]=D.useState(!1),i=D.useRef(null),u=N();let o,p;const{multiple:s}=e;e.multiple?{files:o,setFiles:p}=e:(o=e.file?[e.file]:[],p=r=>{const n=r[r.length-1];e.setFile(n)});const{onInputFileError:h,uploadFileCopy:T="Upload file",noFileCopy:k=s?"No files added":"No file added",children:b,inputProps:t,...U}=e,g=t==null?void 0:t.src,v=r=>{if(t!=null&&t.accept&&!W({name:r.name,type:r.type},t.accept.split(",")||"")){h==null||h(`Invalid file type. Valid file types are: ${t.accept}`);return}return r},A=r=>{if(r.target.files){const n=[];for(let c=0;c<r.target.files.length;c+=1){const m=v(r.target.files[c]);if(!m)return;n.push(m)}p(o.concat(n))}},B=r=>{r.preventDefault(),!(t!=null&&t.disabled)&&l(!0)},I=()=>{t!=null&&t.disabled||l(!1)},L=r=>{if(r.preventDefault(),!(t!=null&&t.disabled)&&(l(!1),r.dataTransfer.files)){const n=[];for(let c=0;c<r.dataTransfer.files.length;c+=1){const m=v(r.dataTransfer.files[c]);if(!m)return;n.push(m)}p(o.concat(n))}},O=r=>{var n;r.preventDefault(),(n=i.current)==null||n.click()};return x(_,{variant:"outlined",onDragOver:B,onDragLeave:I,onDrop:L,...U,children:[x(E,{isDisabled:t==null?void 0:t.disabled,isDragOver:a,isFileAdded:o.length>0,children:[o.length===0&&d(w,{variant:"body1",children:k}),o.map(r=>d(C,{children:d(w,{variant:"body1",isFileAdded:!0,hasUrl:!!g,isDisabled:t==null?void 0:t.disabled,onClick:()=>{g&&window.open(g,"_blank")},children:r.name})},r.name)),d(H,{isDisabled:t==null?void 0:t.disabled,href:"#",role:"button",onClick:O,children:x(C,{children:[d(R,{fillColor:t!=null&&t.disabled?u.palette.neutral[300]:u.palette.secondary.main}),d(V,{isDisabled:t==null?void 0:t.disabled,variant:"body1",children:T})]})}),d("input",{ref:i,type:"file",style:{display:"none"},onChange:A,role:"button","aria-label":"File Upload",multiple:s,...t})]}),b&&d(q,{children:b})]})};export{pe as F};
